{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{format}from'date-fns';import{CheckIcon,XMarkIcon}from'@heroicons/react/24/outline';import{Button}from'../ui/Button';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const InlineDatePicker=_ref=>{let{value,onSave,onCancel,loading=false,minDate,maxDate,className=''}=_ref;const[tempValue,setTempValue]=useState(()=>{// Convert ISO string to datetime-local format\nconst date=new Date(value);return format(date,\"yyyy-MM-dd'T'HH:mm\");});const[error,setError]=useState('');const inputRef=useRef(null);useEffect(()=>{// Focus the input when component mounts\nif(inputRef.current){inputRef.current.focus();}},[]);const handleSave=()=>{if(!tempValue){setError('Date is required');return;}// Validate date\nconst selectedDate=new Date(tempValue);if(minDate&&selectedDate<new Date(minDate)){setError('Date cannot be before minimum date');return;}if(maxDate&&selectedDate>new Date(maxDate)){setError('Date cannot be after maximum date');return;}// Convert back to ISO string\nconst isoString=selectedDate.toISOString();onSave(isoString);};const handleKeyDown=e=>{if(e.key==='Enter'){e.preventDefault();handleSave();}else if(e.key==='Escape'){e.preventDefault();onCancel();}};const handleChange=e=>{setTempValue(e.target.value);setError('');// Clear error when user types\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"inline-flex items-center space-x-2 \".concat(className),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{ref:inputRef,type:\"datetime-local\",value:tempValue,onChange:handleChange,onKeyDown:handleKeyDown,min:minDate?format(new Date(minDate),\"yyyy-MM-dd'T'HH:mm\"):undefined,max:maxDate?format(new Date(maxDate),\"yyyy-MM-dd'T'HH:mm\"):undefined,className:\"px-3 py-1 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 \".concat(error?'border-red-300':'border-gray-300'),disabled:loading}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full left-0 mt-1 text-xs text-red-600 whitespace-nowrap\",children:error})]}),/*#__PURE__*/_jsx(Button,{variant:\"ghost\",size:\"sm\",onClick:handleSave,disabled:loading||!tempValue,className:\"p-1 text-green-600 hover:text-green-700 hover:bg-green-50\",children:/*#__PURE__*/_jsx(CheckIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(Button,{variant:\"ghost\",size:\"sm\",onClick:onCancel,disabled:loading,className:\"p-1 text-red-600 hover:text-red-700 hover:bg-red-50\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-4 w-4\"})})]});};export default InlineDatePicker;","map":{"version":3,"names":["React","useState","useRef","useEffect","format","CheckIcon","XMarkIcon","Button","jsx","_jsx","jsxs","_jsxs","InlineDatePicker","_ref","value","onSave","onCancel","loading","minDate","maxDate","className","tempValue","setTempValue","date","Date","error","setError","inputRef","current","focus","handleSave","selectedDate","isoString","toISOString","handleKeyDown","e","key","preventDefault","handleChange","target","concat","children","ref","type","onChange","onKeyDown","min","undefined","max","disabled","variant","size","onClick"],"sources":["/home/haim/github/job-search-tracker-api/frontend/src/components/interviews/InlineDatePicker.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { format } from 'date-fns';\nimport { CheckIcon, XMarkIcon } from '@heroicons/react/24/outline';\nimport { Button } from '../ui/Button';\n\ninterface InlineDatePickerProps {\n  value: string;\n  onSave: (newDate: string) => void;\n  onCancel: () => void;\n  loading?: boolean;\n  minDate?: string;\n  maxDate?: string;\n  className?: string;\n}\n\nconst InlineDatePicker: React.FC<InlineDatePickerProps> = ({\n  value,\n  onSave,\n  onCancel,\n  loading = false,\n  minDate,\n  maxDate,\n  className = '',\n}) => {\n  const [tempValue, setTempValue] = useState(() => {\n    // Convert ISO string to datetime-local format\n    const date = new Date(value);\n    return format(date, \"yyyy-MM-dd'T'HH:mm\");\n  });\n  const [error, setError] = useState<string>('');\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    // Focus the input when component mounts\n    if (inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, []);\n\n  const handleSave = () => {\n    if (!tempValue) {\n      setError('Date is required');\n      return;\n    }\n\n    // Validate date\n    const selectedDate = new Date(tempValue);\n\n    if (minDate && selectedDate < new Date(minDate)) {\n      setError('Date cannot be before minimum date');\n      return;\n    }\n\n    if (maxDate && selectedDate > new Date(maxDate)) {\n      setError('Date cannot be after maximum date');\n      return;\n    }\n\n    // Convert back to ISO string\n    const isoString = selectedDate.toISOString();\n    onSave(isoString);\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      handleSave();\n    } else if (e.key === 'Escape') {\n      e.preventDefault();\n      onCancel();\n    }\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setTempValue(e.target.value);\n    setError(''); // Clear error when user types\n  };\n\n  return (\n    <div className={`inline-flex items-center space-x-2 ${className}`}>\n      <div className=\"relative\">\n        <input\n          ref={inputRef}\n          type=\"datetime-local\"\n          value={tempValue}\n          onChange={handleChange}\n          onKeyDown={handleKeyDown}\n          min={minDate ? format(new Date(minDate), \"yyyy-MM-dd'T'HH:mm\") : undefined}\n          max={maxDate ? format(new Date(maxDate), \"yyyy-MM-dd'T'HH:mm\") : undefined}\n          className={`px-3 py-1 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${\n            error ? 'border-red-300' : 'border-gray-300'\n          }`}\n          disabled={loading}\n        />\n        {error && (\n          <div className=\"absolute top-full left-0 mt-1 text-xs text-red-600 whitespace-nowrap\">\n            {error}\n          </div>\n        )}\n      </div>\n\n      <Button\n        variant=\"ghost\"\n        size=\"sm\"\n        onClick={handleSave}\n        disabled={loading || !tempValue}\n        className=\"p-1 text-green-600 hover:text-green-700 hover:bg-green-50\"\n      >\n        <CheckIcon className=\"h-4 w-4\" />\n      </Button>\n\n      <Button\n        variant=\"ghost\"\n        size=\"sm\"\n        onClick={onCancel}\n        disabled={loading}\n        className=\"p-1 text-red-600 hover:text-red-700 hover:bg-red-50\"\n      >\n        <XMarkIcon className=\"h-4 w-4\" />\n      </Button>\n    </div>\n  );\n};\n\nexport default InlineDatePicker;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}