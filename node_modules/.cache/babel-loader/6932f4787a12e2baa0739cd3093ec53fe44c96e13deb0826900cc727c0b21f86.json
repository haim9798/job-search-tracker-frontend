{"ast":null,"code":"try {\n  self[\"workbox:window:7.2.0\"] && _();\n} catch (n) {}\nfunction n(n, t) {\n  return new Promise(function (r) {\n    var e = new MessageChannel();\n    e.port1.onmessage = function (n) {\n      r(n.data);\n    }, n.postMessage(t, [e.port2]);\n  });\n}\nfunction t(n) {\n  var t = function (n, t) {\n    if (\"object\" != typeof n || !n) return n;\n    var r = n[Symbol.toPrimitive];\n    if (void 0 !== r) {\n      var e = r.call(n, t || \"default\");\n      if (\"object\" != typeof e) return e;\n      throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (\"string\" === t ? String : Number)(n);\n  }(n, \"string\");\n  return \"symbol\" == typeof t ? t : t + \"\";\n}\nfunction r(n, r) {\n  for (var e = 0; e < r.length; e++) {\n    var i = r[e];\n    i.enumerable = i.enumerable || !1, i.configurable = !0, \"value\" in i && (i.writable = !0), Object.defineProperty(n, t(i.key), i);\n  }\n}\nfunction e(n, t) {\n  return e = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (n, t) {\n    return n.__proto__ = t, n;\n  }, e(n, t);\n}\nfunction i(n, t) {\n  (null == t || t > n.length) && (t = n.length);\n  for (var r = 0, e = new Array(t); r < t; r++) e[r] = n[r];\n  return e;\n}\nfunction o(n, t) {\n  var r = \"undefined\" != typeof Symbol && n[Symbol.iterator] || n[\"@@iterator\"];\n  if (r) return (r = r.call(n)).next.bind(r);\n  if (Array.isArray(n) || (r = function (n, t) {\n    if (n) {\n      if (\"string\" == typeof n) return i(n, t);\n      var r = Object.prototype.toString.call(n).slice(8, -1);\n      return \"Object\" === r && n.constructor && (r = n.constructor.name), \"Map\" === r || \"Set\" === r ? Array.from(n) : \"Arguments\" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? i(n, t) : void 0;\n    }\n  }(n)) || t && n && \"number\" == typeof n.length) {\n    r && (n = r);\n    var e = 0;\n    return function () {\n      return e >= n.length ? {\n        done: !0\n      } : {\n        done: !1,\n        value: n[e++]\n      };\n    };\n  }\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\ntry {\n  self[\"workbox:core:7.2.0\"] && _();\n} catch (n) {}\nvar u = function () {\n  var n = this;\n  this.promise = new Promise(function (t, r) {\n    n.resolve = t, n.reject = r;\n  });\n};\nfunction a(n, t) {\n  var r = location.href;\n  return new URL(n, r).href === new URL(t, r).href;\n}\nvar c = function (n, t) {\n  this.type = n, Object.assign(this, t);\n};\nfunction f(n, t, r) {\n  return r ? t ? t(n) : n : (n && n.then || (n = Promise.resolve(n)), t ? n.then(t) : n);\n}\nfunction s() {}\nvar v = {\n  type: \"SKIP_WAITING\"\n};\nfunction h(n, t) {\n  if (!t) return n && n.then ? n.then(s) : Promise.resolve();\n}\nvar l = function (t) {\n  function i(n, r) {\n    var e, i;\n    return void 0 === r && (r = {}), (e = t.call(this) || this).nn = {}, e.tn = 0, e.rn = new u(), e.en = new u(), e.on = new u(), e.un = 0, e.an = new Set(), e.cn = function () {\n      var n = e.fn,\n        t = n.installing;\n      e.tn > 0 || !a(t.scriptURL, e.sn.toString()) || performance.now() > e.un + 6e4 ? (e.vn = t, n.removeEventListener(\"updatefound\", e.cn)) : (e.hn = t, e.an.add(t), e.rn.resolve(t)), ++e.tn, t.addEventListener(\"statechange\", e.ln);\n    }, e.ln = function (n) {\n      var t = e.fn,\n        r = n.target,\n        i = r.state,\n        o = r === e.vn,\n        u = {\n          sw: r,\n          isExternal: o,\n          originalEvent: n\n        };\n      !o && e.mn && (u.isUpdate = !0), e.dispatchEvent(new c(i, u)), \"installed\" === i ? e.wn = self.setTimeout(function () {\n        \"installed\" === i && t.waiting === r && e.dispatchEvent(new c(\"waiting\", u));\n      }, 200) : \"activating\" === i && (clearTimeout(e.wn), o || e.en.resolve(r));\n    }, e.yn = function (n) {\n      var t = e.hn,\n        r = t !== navigator.serviceWorker.controller;\n      e.dispatchEvent(new c(\"controlling\", {\n        isExternal: r,\n        originalEvent: n,\n        sw: t,\n        isUpdate: e.mn\n      })), r || e.on.resolve(t);\n    }, e.gn = (i = function (n) {\n      var t = n.data,\n        r = n.ports,\n        i = n.source;\n      return f(e.getSW(), function () {\n        e.an.has(i) && e.dispatchEvent(new c(\"message\", {\n          data: t,\n          originalEvent: n,\n          ports: r,\n          sw: i\n        }));\n      });\n    }, function () {\n      for (var n = [], t = 0; t < arguments.length; t++) n[t] = arguments[t];\n      try {\n        return Promise.resolve(i.apply(this, n));\n      } catch (n) {\n        return Promise.reject(n);\n      }\n    }), e.sn = n, e.nn = r, navigator.serviceWorker.addEventListener(\"message\", e.gn), e;\n  }\n  var o, s;\n  s = t, (o = i).prototype = Object.create(s.prototype), o.prototype.constructor = o, e(o, s);\n  var l,\n    m,\n    w,\n    y = i.prototype;\n  return y.register = function (n) {\n    var t = (void 0 === n ? {} : n).immediate,\n      r = void 0 !== t && t;\n    try {\n      var e = this;\n      return f(function (n, t) {\n        var r = n();\n        if (r && r.then) return r.then(t);\n        return t(r);\n      }(function () {\n        if (!r && \"complete\" !== document.readyState) return h(new Promise(function (n) {\n          return window.addEventListener(\"load\", n);\n        }));\n      }, function () {\n        return e.mn = Boolean(navigator.serviceWorker.controller), e.dn = e.pn(), f(e.bn(), function (n) {\n          e.fn = n, e.dn && (e.hn = e.dn, e.en.resolve(e.dn), e.on.resolve(e.dn), e.dn.addEventListener(\"statechange\", e.ln, {\n            once: !0\n          }));\n          var t = e.fn.waiting;\n          return t && a(t.scriptURL, e.sn.toString()) && (e.hn = t, Promise.resolve().then(function () {\n            e.dispatchEvent(new c(\"waiting\", {\n              sw: t,\n              wasWaitingBeforeRegister: !0\n            }));\n          }).then(function () {})), e.hn && (e.rn.resolve(e.hn), e.an.add(e.hn)), e.fn.addEventListener(\"updatefound\", e.cn), navigator.serviceWorker.addEventListener(\"controllerchange\", e.yn), e.fn;\n        });\n      }));\n    } catch (n) {\n      return Promise.reject(n);\n    }\n  }, y.update = function () {\n    try {\n      return this.fn ? f(h(this.fn.update())) : f();\n    } catch (n) {\n      return Promise.reject(n);\n    }\n  }, y.getSW = function () {\n    return void 0 !== this.hn ? Promise.resolve(this.hn) : this.rn.promise;\n  }, y.messageSW = function (t) {\n    try {\n      return f(this.getSW(), function (r) {\n        return n(r, t);\n      });\n    } catch (n) {\n      return Promise.reject(n);\n    }\n  }, y.messageSkipWaiting = function () {\n    this.fn && this.fn.waiting && n(this.fn.waiting, v);\n  }, y.pn = function () {\n    var n = navigator.serviceWorker.controller;\n    return n && a(n.scriptURL, this.sn.toString()) ? n : void 0;\n  }, y.bn = function () {\n    try {\n      var n = this;\n      return f(function (n, t) {\n        try {\n          var r = n();\n        } catch (n) {\n          return t(n);\n        }\n        if (r && r.then) return r.then(void 0, t);\n        return r;\n      }(function () {\n        return f(navigator.serviceWorker.register(n.sn, n.nn), function (t) {\n          return n.un = performance.now(), t;\n        });\n      }, function (n) {\n        throw n;\n      }));\n    } catch (n) {\n      return Promise.reject(n);\n    }\n  }, l = i, (m = [{\n    key: \"active\",\n    get: function () {\n      return this.en.promise;\n    }\n  }, {\n    key: \"controlling\",\n    get: function () {\n      return this.on.promise;\n    }\n  }]) && r(l.prototype, m), w && r(l, w), Object.defineProperty(l, \"prototype\", {\n    writable: !1\n  }), l;\n}(function () {\n  function n() {\n    this.Pn = new Map();\n  }\n  var t = n.prototype;\n  return t.addEventListener = function (n, t) {\n    this.jn(n).add(t);\n  }, t.removeEventListener = function (n, t) {\n    this.jn(n).delete(t);\n  }, t.dispatchEvent = function (n) {\n    n.target = this;\n    for (var t, r = o(this.jn(n.type)); !(t = r()).done;) {\n      (0, t.value)(n);\n    }\n  }, t.jn = function (n) {\n    return this.Pn.has(n) || this.Pn.set(n, new Set()), this.Pn.get(n);\n  }, n;\n}());\nexport { l as Workbox, c as WorkboxEvent, n as messageSW };\n//# sourceMappingURL=workbox-window.prod.es5.mjs.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}