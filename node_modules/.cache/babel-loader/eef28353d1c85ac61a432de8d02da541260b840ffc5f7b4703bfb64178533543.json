{"ast":null,"code":"import React from'react';import{useAnalyticsDashboard}from'../../hooks/useStatistics';import{Button}from'../ui/Button';import{ArrowPathIcon}from'@heroicons/react/24/outline';import{PositionStatusChart}from'./PositionStatusChart';import{InterviewOutcomeChart}from'./InterviewOutcomeChart';import{InterviewTypeChart}from'./InterviewTypeChart';import{CompanyStatsTable}from'./CompanyStatsTable';import{KeyMetricsCards}from'./KeyMetricsCards';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const StatisticsOverview=()=>{var _overview$data,_overview$data2,_overview$data3,_overview$data4;const{overview,successRates,monthlyStats,topCompanies,isLoading,error}=useAnalyticsDashboard();const handleRefresh=()=>{overview.refetch();successRates.refetch();monthlyStats.refetch();topCompanies.refetch();};if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-red-600 text-lg font-medium mb-2\",children:\"Failed to load statistics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:error instanceof Error?error.message:'An unexpected error occurred'}),/*#__PURE__*/_jsxs(Button,{onClick:handleRefresh,variant:\"primary\",children:[/*#__PURE__*/_jsx(ArrowPathIcon,{className:\"h-4 w-4 mr-2\"}),\"Try Again\"]})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"Statistics & Analytics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:\"Comprehensive overview of your job search progress and performance\"})]}),/*#__PURE__*/_jsxs(Button,{onClick:handleRefresh,variant:\"secondary\",disabled:isLoading,className:\"flex items-center\",children:[/*#__PURE__*/_jsx(ArrowPathIcon,{className:\"h-4 w-4 mr-2 \".concat(isLoading?'animate-spin':'')}),\"Refresh\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsx(KeyMetricsCards,{overview:overview.data,successRates:successRates.data,isLoading:isLoading})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-4\",children:\"Position Status Breakdown\"}),/*#__PURE__*/_jsx(PositionStatusChart,{data:(_overview$data=overview.data)===null||_overview$data===void 0?void 0:_overview$data.positions_by_status,isLoading:overview.isLoading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-4\",children:\"Interview Outcomes\"}),/*#__PURE__*/_jsx(InterviewOutcomeChart,{data:(_overview$data2=overview.data)===null||_overview$data2===void 0?void 0:_overview$data2.interviews_by_outcome,isLoading:overview.isLoading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-4\",children:\"Interview Types Distribution\"}),/*#__PURE__*/_jsx(InterviewTypeChart,{data:(_overview$data3=overview.data)===null||_overview$data3===void 0?void 0:_overview$data3.interviews_by_type,isLoading:overview.isLoading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-4\",children:\"Monthly Activity Trends\"}),monthlyStats.isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"})}):monthlyStats.data?/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Monthly trends chart will be implemented in the next phase\"}):/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:\"No monthly data available\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:\"Company-wise Statistics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:\"Application and interview statistics by company\"})]}),/*#__PURE__*/_jsx(CompanyStatsTable,{companies:((_overview$data4=overview.data)===null||_overview$data4===void 0?void 0:_overview$data4.companies)||[],topCompanies:topCompanies.data||[],isLoading:overview.isLoading||topCompanies.isLoading})]})]})});};","map":{"version":3,"names":["React","useAnalyticsDashboard","Button","ArrowPathIcon","PositionStatusChart","InterviewOutcomeChart","InterviewTypeChart","CompanyStatsTable","KeyMetricsCards","jsx","_jsx","jsxs","_jsxs","StatisticsOverview","_overview$data","_overview$data2","_overview$data3","_overview$data4","overview","successRates","monthlyStats","topCompanies","isLoading","error","handleRefresh","refetch","className","children","Error","message","onClick","variant","disabled","concat","data","positions_by_status","interviews_by_outcome","interviews_by_type","companies"],"sources":["/home/haim/github/job-search-tracker-api/frontend/src/components/statistics/StatisticsOverview.tsx"],"sourcesContent":["import React from 'react';\nimport { useAnalyticsDashboard } from '../../hooks/useStatistics';\nimport { Button } from '../ui/Button';\nimport { ArrowPathIcon } from '@heroicons/react/24/outline';\nimport { PositionStatusChart } from './PositionStatusChart';\nimport { InterviewOutcomeChart } from './InterviewOutcomeChart';\nimport { InterviewTypeChart } from './InterviewTypeChart';\nimport { CompanyStatsTable } from './CompanyStatsTable';\nimport { KeyMetricsCards } from './KeyMetricsCards';\n\nexport const StatisticsOverview: React.FC = () => {\n  const { overview, successRates, monthlyStats, topCompanies, isLoading, error } = useAnalyticsDashboard();\n\n  const handleRefresh = () => {\n    overview.refetch();\n    successRates.refetch();\n    monthlyStats.refetch();\n    topCompanies.refetch();\n  };\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"text-red-600 text-lg font-medium mb-2\">\n            Failed to load statistics\n          </div>\n          <p className=\"text-gray-600 mb-4\">\n            {error instanceof Error ? error.message : 'An unexpected error occurred'}\n          </p>\n          <Button onClick={handleRefresh} variant=\"primary\">\n            <ArrowPathIcon className=\"h-4 w-4 mr-2\" />\n            Try Again\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Header */}\n        <div className=\"flex justify-between items-center mb-8\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900\">Statistics & Analytics</h1>\n            <p className=\"text-gray-600 mt-2\">\n              Comprehensive overview of your job search progress and performance\n            </p>\n          </div>\n          <Button\n            onClick={handleRefresh}\n            variant=\"secondary\"\n            disabled={isLoading}\n            className=\"flex items-center\"\n          >\n            <ArrowPathIcon className={`h-4 w-4 mr-2 ${isLoading ? 'animate-spin' : ''}`} />\n            Refresh\n          </Button>\n        </div>\n\n        {/* Key Metrics Cards */}\n        <div className=\"mb-8\">\n          <KeyMetricsCards\n            overview={overview.data}\n            successRates={successRates.data}\n            isLoading={isLoading}\n          />\n        </div>\n\n        {/* Charts Grid */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\">\n          {/* Position Status Breakdown */}\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">\n              Position Status Breakdown\n            </h2>\n            <PositionStatusChart\n              data={overview.data?.positions_by_status}\n              isLoading={overview.isLoading}\n            />\n          </div>\n\n          {/* Interview Outcomes */}\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">\n              Interview Outcomes\n            </h2>\n            <InterviewOutcomeChart\n              data={overview.data?.interviews_by_outcome}\n              isLoading={overview.isLoading}\n            />\n          </div>\n\n          {/* Interview Types */}\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">\n              Interview Types Distribution\n            </h2>\n            <InterviewTypeChart\n              data={overview.data?.interviews_by_type}\n              isLoading={overview.isLoading}\n            />\n          </div>\n\n          {/* Monthly Trends */}\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">\n              Monthly Activity Trends\n            </h2>\n            {monthlyStats.isLoading ? (\n              <div className=\"flex items-center justify-center h-64\">\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n              </div>\n            ) : monthlyStats.data ? (\n              <div className=\"text-sm text-gray-600\">\n                Monthly trends chart will be implemented in the next phase\n              </div>\n            ) : (\n              <div className=\"text-sm text-gray-500\">No monthly data available</div>\n            )}\n          </div>\n        </div>\n\n        {/* Company Statistics Table */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h2 className=\"text-xl font-semibold text-gray-900\">\n              Company-wise Statistics\n            </h2>\n            <p className=\"text-sm text-gray-600 mt-1\">\n              Application and interview statistics by company\n            </p>\n          </div>\n          <CompanyStatsTable\n            companies={overview.data?.companies || []}\n            topCompanies={topCompanies.data || []}\n            isLoading={overview.isLoading || topCompanies.isLoading}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}