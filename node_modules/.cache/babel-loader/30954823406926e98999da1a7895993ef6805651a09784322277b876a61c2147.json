{"ast":null,"code":"import React from'react';import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend}from'chart.js';import{Bar}from'react-chartjs-2';import{InterviewOutcome}from'../../types';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend);const OUTCOME_COLORS={[InterviewOutcome.PENDING]:'#F59E0B',// Amber\n[InterviewOutcome.PASSED]:'#10B981',// Green\n[InterviewOutcome.FAILED]:'#EF4444',// Red\n[InterviewOutcome.CANCELLED]:'#6B7280'// Gray\n};const OUTCOME_LABELS={[InterviewOutcome.PENDING]:'Pending',[InterviewOutcome.PASSED]:'Passed',[InterviewOutcome.FAILED]:'Failed',[InterviewOutcome.CANCELLED]:'Cancelled'};export const InterviewOutcomeChart=_ref=>{let{data,isLoading=false}=_ref;if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"})});}if(!data||Object.keys(data).length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64 text-gray-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-medium mb-2\",children:\"No Interview Data\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"Schedule interviews to see outcome statistics\"})]})});}// Prepare chart data in a specific order\nconst orderedOutcomes=[InterviewOutcome.PENDING,InterviewOutcome.PASSED,InterviewOutcome.FAILED,InterviewOutcome.CANCELLED];const chartData={labels:orderedOutcomes.map(outcome=>OUTCOME_LABELS[outcome]),datasets:[{label:'Interviews',data:orderedOutcomes.map(outcome=>data[outcome]||0),backgroundColor:orderedOutcomes.map(outcome=>OUTCOME_COLORS[outcome]),borderColor:orderedOutcomes.map(outcome=>OUTCOME_COLORS[outcome]),borderWidth:1,borderRadius:4,borderSkipped:false}]};const options={responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false},tooltip:{callbacks:{label:context=>{const value=context.parsed.y;const total=Object.values(data).reduce((a,b)=>a+b,0);const percentage=total>0?(value/total*100).toFixed(1):'0';return\"\".concat(context.label,\": \").concat(value,\" (\").concat(percentage,\"%)\");}}}},scales:{y:{beginAtZero:true,ticks:{stepSize:1},grid:{color:'#F3F4F6'}},x:{grid:{display:false}}}};const totalInterviews=Object.values(data).reduce((sum,count)=>sum+count,0);const passedInterviews=data[InterviewOutcome.PASSED]||0;const passRate=totalInterviews>0?(passedInterviews/totalInterviews*100).toFixed(1):'0';return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-64\",children:/*#__PURE__*/_jsx(Bar,{data:chartData,options:options})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 grid grid-cols-3 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:totalInterviews}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600\",children:\"Total\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-green-600\",children:passedInterviews}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600\",children:\"Passed\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-medium text-gray-900\",children:[passRate,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600\",children:\"Pass Rate\"})]})]})]});};","map":{"version":3,"names":["React","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","Bar","InterviewOutcome","jsx","_jsx","jsxs","_jsxs","register","OUTCOME_COLORS","PENDING","PASSED","FAILED","CANCELLED","OUTCOME_LABELS","InterviewOutcomeChart","_ref","data","isLoading","className","children","Object","keys","length","orderedOutcomes","chartData","labels","map","outcome","datasets","label","backgroundColor","borderColor","borderWidth","borderRadius","borderSkipped","options","responsive","maintainAspectRatio","plugins","legend","display","tooltip","callbacks","context","value","parsed","y","total","values","reduce","a","b","percentage","toFixed","concat","scales","beginAtZero","ticks","stepSize","grid","color","x","totalInterviews","sum","count","passedInterviews","passRate"],"sources":["/home/haim/github/job-search-tracker-api/frontend/src/components/statistics/InterviewOutcomeChart.tsx"],"sourcesContent":["import React from 'react';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n  ChartOptions,\n} from 'chart.js';\nimport { Bar } from 'react-chartjs-2';\nimport { InterviewOutcome } from '../../types';\n\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\n\ninterface InterviewOutcomeChartProps {\n  data?: Record<InterviewOutcome, number> | undefined;\n  isLoading?: boolean;\n}\n\nconst OUTCOME_COLORS = {\n  [InterviewOutcome.PENDING]: '#F59E0B', // Amber\n  [InterviewOutcome.PASSED]: '#10B981', // Green\n  [InterviewOutcome.FAILED]: '#EF4444', // Red\n  [InterviewOutcome.CANCELLED]: '#6B7280', // Gray\n};\n\nconst OUTCOME_LABELS = {\n  [InterviewOutcome.PENDING]: 'Pending',\n  [InterviewOutcome.PASSED]: 'Passed',\n  [InterviewOutcome.FAILED]: 'Failed',\n  [InterviewOutcome.CANCELLED]: 'Cancelled',\n};\n\nexport const InterviewOutcomeChart: React.FC<InterviewOutcomeChartProps> = ({\n  data,\n  isLoading = false,\n}) => {\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  if (!data || Object.keys(data).length === 0) {\n    return (\n      <div className=\"flex items-center justify-center h-64 text-gray-500\">\n        <div className=\"text-center\">\n          <div className=\"text-lg font-medium mb-2\">No Interview Data</div>\n          <p className=\"text-sm\">Schedule interviews to see outcome statistics</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Prepare chart data in a specific order\n  const orderedOutcomes = [\n    InterviewOutcome.PENDING,\n    InterviewOutcome.PASSED,\n    InterviewOutcome.FAILED,\n    InterviewOutcome.CANCELLED,\n  ];\n\n  const chartData = {\n    labels: orderedOutcomes.map(outcome => OUTCOME_LABELS[outcome]),\n    datasets: [\n      {\n        label: 'Interviews',\n        data: orderedOutcomes.map(outcome => data[outcome] || 0),\n        backgroundColor: orderedOutcomes.map(outcome => OUTCOME_COLORS[outcome]),\n        borderColor: orderedOutcomes.map(outcome => OUTCOME_COLORS[outcome]),\n        borderWidth: 1,\n        borderRadius: 4,\n        borderSkipped: false,\n      },\n    ],\n  };\n\n  const options: ChartOptions<'bar'> = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        display: false,\n      },\n      tooltip: {\n        callbacks: {\n          label: (context) => {\n            const value = context.parsed.y;\n            const total = Object.values(data).reduce((a, b) => a + b, 0);\n            const percentage = total > 0 ? ((value / total) * 100).toFixed(1) : '0';\n            return `${context.label}: ${value} (${percentage}%)`;\n          },\n        },\n      },\n    },\n    scales: {\n      y: {\n        beginAtZero: true,\n        ticks: {\n          stepSize: 1,\n        },\n        grid: {\n          color: '#F3F4F6',\n        },\n      },\n      x: {\n        grid: {\n          display: false,\n        },\n      },\n    },\n  };\n\n  const totalInterviews = Object.values(data).reduce((sum, count) => sum + count, 0);\n  const passedInterviews = data[InterviewOutcome.PASSED] || 0;\n  const passRate = totalInterviews > 0 ? ((passedInterviews / totalInterviews) * 100).toFixed(1) : '0';\n\n  return (\n    <div className=\"relative\">\n      <div className=\"h-64\">\n        <Bar data={chartData} options={options} />\n      </div>\n      \n      {/* Summary stats below chart */}\n      <div className=\"mt-4 grid grid-cols-3 gap-4 text-sm\">\n        <div className=\"text-center\">\n          <div className=\"font-medium text-gray-900\">{totalInterviews}</div>\n          <div className=\"text-gray-600\">Total</div>\n        </div>\n        <div className=\"text-center\">\n          <div className=\"font-medium text-green-600\">{passedInterviews}</div>\n          <div className=\"text-gray-600\">Passed</div>\n        </div>\n        <div className=\"text-center\">\n          <div className=\"font-medium text-gray-900\">{passRate}%</div>\n          <div className=\"text-gray-600\">Pass Rate</div>\n        </div>\n      </div>\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}