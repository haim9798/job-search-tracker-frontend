{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{AuthGuard}from'../components/auth/AuthGuard';import{useAuth}from'../hooks/useAuth';import{usePositions}from'../hooks/usePositions';import{Button}from'../components/ui';import{PositionList,DashboardSummary}from'../components';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const DashboardPage=()=>{const{user,logout,isLoading:authLoading}=useAuth();const navigate=useNavigate();const[showCreateModal,setShowCreateModal]=useState(false);// Fetch positions data\nconst{data:positionsResponse,isLoading:positionsLoading,error:positionsError}=usePositions();const positions=(positionsResponse===null||positionsResponse===void 0?void 0:positionsResponse.positions)||[];const handleLogout=async()=>{try{await logout();}catch(error){console.error('Logout failed:',error);}};const handleCreateNew=()=>{// TODO: Navigate to create position page or open modal\nconsole.log('Create new position');setShowCreateModal(true);};const handleEditPosition=position=>{// TODO: Navigate to edit position page or open modal\nconsole.log('Edit position:',position.id);navigate(\"/positions/\".concat(position.id,\"/edit\"));};const handleDeletePosition=id=>{// TODO: Show confirmation dialog and delete\nconsole.log('Delete position:',id);if(window.confirm('Are you sure you want to delete this position?')){// Delete logic will be implemented in task 5.3\n}};const handleAddInterview=positionId=>{// TODO: Navigate to add interview page or open modal\nconsole.log('Add interview for position:',positionId);navigate(\"/positions/\".concat(positionId,\"/interviews/new\"));};const handleViewDetails=id=>{// TODO: Navigate to position details page\nconsole.log('View position details:',id);navigate(\"/positions/\".concat(id));};return/*#__PURE__*/_jsx(AuthGuard,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center py-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Interview Position Tracker\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Welcome back, \",user===null||user===void 0?void 0:user.first_name,\" \",user===null||user===void 0?void 0:user.last_name,\"!\"]})]}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleLogout,loading:authLoading,children:\"Logout\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-6 sm:px-0 space-y-8\",children:[/*#__PURE__*/_jsx(DashboardSummary,{positions:positions,loading:positionsLoading}),/*#__PURE__*/_jsx(PositionList,{positions:positions,loading:positionsLoading,error:positionsError?String(positionsError):null,onCreateNew:handleCreateNew,onEditPosition:handleEditPosition,onDeletePosition:handleDeletePosition,onAddInterview:handleAddInterview,onViewDetails:handleViewDetails})]})}),showCreateModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 max-w-md w-full\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Create Position\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"Position creation form will be implemented in task 5.2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setShowCreateModal(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>setShowCreateModal(false),children:\"OK\"})]})]})})]})});};export default DashboardPage;","map":{"version":3,"names":["React","useState","useNavigate","AuthGuard","useAuth","usePositions","Button","PositionList","DashboardSummary","jsx","_jsx","jsxs","_jsxs","DashboardPage","user","logout","isLoading","authLoading","navigate","showCreateModal","setShowCreateModal","data","positionsResponse","positionsLoading","error","positionsError","positions","handleLogout","console","handleCreateNew","log","handleEditPosition","position","id","concat","handleDeletePosition","window","confirm","handleAddInterview","positionId","handleViewDetails","children","className","first_name","last_name","variant","onClick","loading","String","onCreateNew","onEditPosition","onDeletePosition","onAddInterview","onViewDetails"],"sources":["/home/haim/github/job-search-tracker-api/frontend/src/pages/DashboardPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { AuthGuard } from '../components/auth/AuthGuard';\nimport { useAuth } from '../hooks/useAuth';\nimport { usePositions } from '../hooks/usePositions';\nimport { Button } from '../components/ui';\nimport { PositionList, DashboardSummary } from '../components';\nimport { Position } from '../types';\n\nexport const DashboardPage: React.FC = () => {\n  const { user, logout, isLoading: authLoading } = useAuth();\n  const navigate = useNavigate();\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  \n  // Fetch positions data\n  const { \n    data: positionsResponse, \n    isLoading: positionsLoading, \n    error: positionsError\n  } = usePositions();\n\n  const positions = positionsResponse?.positions || [];\n\n  const handleLogout = async () => {\n    try {\n      await logout();\n    } catch (error) {\n      console.error('Logout failed:', error);\n    }\n  };\n\n  const handleCreateNew = () => {\n    // TODO: Navigate to create position page or open modal\n    console.log('Create new position');\n    setShowCreateModal(true);\n  };\n\n  const handleEditPosition = (position: Position) => {\n    // TODO: Navigate to edit position page or open modal\n    console.log('Edit position:', position.id);\n    navigate(`/positions/${position.id}/edit`);\n  };\n\n  const handleDeletePosition = (id: string) => {\n    // TODO: Show confirmation dialog and delete\n    console.log('Delete position:', id);\n    if (window.confirm('Are you sure you want to delete this position?')) {\n      // Delete logic will be implemented in task 5.3\n    }\n  };\n\n  const handleAddInterview = (positionId: string) => {\n    // TODO: Navigate to add interview page or open modal\n    console.log('Add interview for position:', positionId);\n    navigate(`/positions/${positionId}/interviews/new`);\n  };\n\n  const handleViewDetails = (id: string) => {\n    // TODO: Navigate to position details page\n    console.log('View position details:', id);\n    navigate(`/positions/${id}`);\n  };\n\n  return (\n    <AuthGuard>\n      <div className=\"min-h-screen bg-gray-50\">\n        {/* Header */}\n        <div className=\"bg-white shadow\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <div className=\"flex justify-between items-center py-6\">\n              <div>\n                <h1 className=\"text-2xl font-bold text-gray-900\">\n                  Interview Position Tracker\n                </h1>\n                <p className=\"text-gray-600\">\n                  Welcome back, {user?.first_name} {user?.last_name}!\n                </p>\n              </div>\n              <Button\n                variant=\"secondary\"\n                onClick={handleLogout}\n                loading={authLoading}\n              >\n                Logout\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        {/* Main Content */}\n        <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n          <div className=\"px-4 py-6 sm:px-0 space-y-8\">\n            {/* Dashboard Summary */}\n            <DashboardSummary \n              positions={positions}\n              loading={positionsLoading}\n            />\n\n            {/* Position List */}\n            <PositionList\n              positions={positions}\n              loading={positionsLoading}\n              error={positionsError ? String(positionsError) : null}\n              onCreateNew={handleCreateNew}\n              onEditPosition={handleEditPosition}\n              onDeletePosition={handleDeletePosition}\n              onAddInterview={handleAddInterview}\n              onViewDetails={handleViewDetails}\n            />\n          </div>\n        </div>\n\n        {/* Create Position Modal - TODO: Implement in task 5.2 */}\n        {showCreateModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-white rounded-lg p-6 max-w-md w-full\">\n              <h3 className=\"text-lg font-semibold mb-4\">Create Position</h3>\n              <p className=\"text-gray-600 mb-4\">\n                Position creation form will be implemented in task 5.2\n              </p>\n              <div className=\"flex justify-end space-x-3\">\n                <Button\n                  variant=\"secondary\"\n                  onClick={() => setShowCreateModal(false)}\n                >\n                  Cancel\n                </Button>\n                <Button onClick={() => setShowCreateModal(false)}>\n                  OK\n                </Button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </AuthGuard>\n  );\n};\n\nexport default DashboardPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}