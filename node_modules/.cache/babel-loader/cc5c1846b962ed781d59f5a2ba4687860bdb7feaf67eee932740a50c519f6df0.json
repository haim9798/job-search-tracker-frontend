{"ast":null,"code":"import React from'react';import{useParams,useNavigate}from'react-router-dom';import{toast}from'react-hot-toast';import{ArrowLeftIcon}from'@heroicons/react/24/outline';import{AuthGuard}from'../components/auth';import{AppLayout}from'../components/layout';import{PositionDetails}from'../components/positions';import{Button}from'../components/ui';import{usePosition,useUpdatePosition,useDeletePosition,useUpdatePositionStatus}from'../hooks/usePositions';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const PositionDetailsPage=()=>{const{id}=useParams();const navigate=useNavigate();const{data:position,isLoading,error}=usePosition(id);const updatePositionMutation=useUpdatePosition();const deletePositionMutation=useDeletePosition();const updateStatusMutation=useUpdatePositionStatus();const handleEdit=async(positionId,data)=>{try{await updatePositionMutation.mutateAsync({id:positionId,data});}catch(error){toast.error('Failed to update position');throw error;// Re-throw to let the component handle the error state\n}};const handleDelete=async positionId=>{try{await deletePositionMutation.mutateAsync(positionId);toast.success('Position deleted successfully');navigate('/dashboard');}catch(error){toast.error('Failed to delete position');}};const handleStatusUpdate=async(positionId,status)=>{try{await updateStatusMutation.mutateAsync({id:positionId,status});}catch(error){toast.error('Failed to update position status');throw error;}};const handleAddInterview=_positionId=>{// TODO: This will be implemented when interview management is added\n// For now, show a placeholder message\ntoast('Interview management coming soon!',{icon:'ðŸš§'});};const handleBack=()=>{navigate('/dashboard');};if(!id){return/*#__PURE__*/_jsx(AuthGuard,{children:/*#__PURE__*/_jsx(AppLayout,{children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Position Not Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:\"The position you're looking for doesn't exist.\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleBack,className:\"mt-4\",children:\"Back to Dashboard\"})]})})})});}if(error){return/*#__PURE__*/_jsx(AuthGuard,{children:/*#__PURE__*/_jsx(AppLayout,{children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Error Loading Position\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:\"There was an error loading the position details. Please try again.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-4 mt-4\",children:[/*#__PURE__*/_jsx(Button,{variant:\"ghost\",onClick:handleBack,children:\"Back to Dashboard\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:()=>window.location.reload(),children:\"Retry\"})]})]})})})});}return/*#__PURE__*/_jsx(AuthGuard,{children:/*#__PURE__*/_jsx(AppLayout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsxs(Button,{variant:\"ghost\",onClick:handleBack,className:\"mb-4\",children:[/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"h-4 w-4 mr-2\"}),\"Back to Dashboard\"]})}),position&&/*#__PURE__*/_jsx(PositionDetails,{position:position,onEdit:handleEdit,onDelete:handleDelete,onStatusUpdate:handleStatusUpdate,onAddInterview:handleAddInterview,loading:isLoading})]})})});};export default PositionDetailsPage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}