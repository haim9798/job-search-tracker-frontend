{"ast":null,"code":"import _objectSpread from\"/home/haim/github/job-search-tracker-api/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import{useParams,useNavigate}from'react-router-dom';import{AppLayout}from'../components/layout';import{PositionForm}from'../components/positions';import{usePosition,useUpdatePosition}from'../hooks/usePositions';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const EditPositionPage=()=>{const{id}=useParams();const navigate=useNavigate();const{data:position,isLoading,error}=usePosition(id);const updatePositionMutation=useUpdatePosition();const handleSubmit=async data=>{if(!id){return;}try{const updateData=_objectSpread(_objectSpread(_objectSpread(_objectSpread({title:data.title,company:data.company},data.description&&{description:data.description}),data.location&&{location:data.location}),data.salary_range&&{salary_range:data.salary_range}),{},{status:data.status,application_date:data.application_date});await updatePositionMutation.mutateAsync({id,data:updateData});// Navigate back to position details\nnavigate(\"/positions/\".concat(id),{replace:true,state:{message:'Position updated successfully!'}});}catch(error){console.error('Failed to update position:',error);// Error handling is done in the mutation hook\n}};const handleCancel=()=>{if(id){navigate(\"/positions/\".concat(id));}else{navigate('/dashboard');}};// Loading state\nif(isLoading){return/*#__PURE__*/_jsx(AppLayout,{children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"animate-pulse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-8 bg-gray-200 rounded w-1/4 mb-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-1/2 mb-8\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-sm rounded-lg p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-1/3\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-10 bg-gray-200 rounded\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-1/3\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-10 bg-gray-200 rounded\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-32 bg-gray-200 rounded\"})]})})]})})});}// Error state\nif(error||!position){return/*#__PURE__*/_jsx(AppLayout,{children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6 text-red-600\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900\",children:\"Position not found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:\"The position you're looking for doesn't exist or you don't have permission to edit it.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/dashboard'),className:\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Back to Dashboard\"})})]})})});}return/*#__PURE__*/_jsx(AppLayout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"nav\",{className:\"flex\",\"aria-label\":\"Breadcrumb\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/dashboard'),className:\"text-gray-400 hover:text-gray-500\",children:\"Dashboard\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"flex-shrink-0 h-5 w-5 text-gray-300\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"currentColor\",viewBox:\"0 0 20 20\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M5.555 17.776l8-16 .894.448-8 16-.894-.448z\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/positions/\".concat(id)),className:\"ml-4 text-gray-400 hover:text-gray-500\",children:position.title})]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"flex-shrink-0 h-5 w-5 text-gray-300\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"currentColor\",viewBox:\"0 0 20 20\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M5.555 17.776l8-16 .894.448-8 16-.894-.448z\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-4 text-sm font-medium text-gray-500\",children:\"Edit\"})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"Edit Position\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-2 text-gray-600\",children:[\"Update the details for \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:position.title}),\" at\",' ',/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:position.company}),\".\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-sm rounded-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-8\",children:/*#__PURE__*/_jsx(PositionForm,{position:position,onSubmit:handleSubmit,onCancel:handleCancel,loading:updatePositionMutation.isPending})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 bg-amber-50 border border-amber-200 rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-amber-900 mb-2\",children:\"Editing tips\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"text-amber-800 space-y-1 text-sm\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Changes are saved immediately when you submit the form\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Update the status as your application progresses\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Add or modify the job description with new information\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Keep salary range updated if you learn more details\"})]})]})]})});};export default EditPositionPage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}